<html>
  <head>
    <title>ai6gl</title>
  </head>
  <body>
    <canvas id='canvas' width='640' height='480'></canvas>
    <script src='matrix.js'></script>
    <script src='bevelcube.js'></script>
    <script src='cube.js'></script>
    <script src='octahedron.js'></script>
    <script src='octahedron2.js'></script>
    <script src='ai6gl.js'></script>
    <script>
      const ai6 = new AI6GL();
      const object1 = new Octahedron();
      const object2 = new Cube();
      const object3 = new BevelCube();
      const object4 = new Octahedron2();
      
      const light = [10.0, 0.0, 0.0];
      const eye = [0.0, 0.0, 10.0];
      const target = [0.0, 0.0, 0.0];
      const up = [0.0, 1.0, 0.0];
      
      object1.setPosition( 3.0, 0.0, 0.0);
      object2.setPosition(-3.0, 0.0, 0.0);
      object4.setPosition(-9.0, 0.0, 0.0);
      ai6.addObject( object1 );
      ai6.addObject( object2 );
      ai6.addObject( object3 );
      ai6.addObject( object4 );
      ai6.addLight(light);
      ai6.setCamera(eye, target, up);
      
      ai6.fetchShader(ai6.GL, mainLoop);

      this.time = 0.0;
      function mainLoop() {
        this.time += 0.01;
        eye[0] = Math.cos(this.time) * 10;
        eye[1] = 10.0;
        eye[2] = Math.sin(this.time) * 10;
        // light[0] = 0.0;
        ai6.draw(ai6.GL);
        requestAnimationFrame( mainLoop );
        object1.update();
        object2.update();
        object3.update();
        object4.update();
      }

    </script>
  </body>
</html>
